<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>开心网 </title>
    <meta name="Generator" content="EditPlus">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <link rel="stylesheet" href="css/main.css" type="text/css"></link>
    <link rel="stylesheet" href="validate.css" type="text/css"></link>

    <script>
	 //fn表示函数名  
	window.addEvent =function(element,event,fn){  
  if(element.addEventListener)
  {
	  element.addEventListener(event,fn,false);
	  
  }
  else if(element.attachEvent){
	  //第一个参数是onclick”,”onload”等等，第二个参数是具体的事件函数
     element.attachEvent("on"+event, function(){ fn.call(element) });
     
   }
}
 //isinfo表示文本框中的内容是否错误,即：显示时是否带叹号图片
function tip(title,isInfo,id)  
{
  this.title=title;
  this.isInfo=isInfo;
  this.tipDom=document.getElementById(id);
}

//匿名函数function定义并且立即执行，执行后返回给tip函数连个方法showtip()和hidetip()
tip.prototype=(function()
{
	//生成合适的Tip的内部函数
    function genTip(tipDomObject,title,isInfo)
	{
     tipDomObject.className="tipFormat";     //该对象的css为tipFormat
     if(isInfo===false)
      tipDomObject.innerHTML="<img src='images/error.gif' /><span>"  + title + "</span>";
	 else
	  tipDomObject.innerHTML="<span>"+title+"</span>";
	}
	//王华杰 不能在此处应用this
	//alert(this.title+" in closure");
	return {
        showTip:function()                               //闭包？？
		{
			genTip(this.tipDom,this.title,this.isInfo);
            //alert(this.tipDom.innerHTML);
			this.tipDom.style.display="block";
		},
		hideTip:function()
		{
            this.tipDom.style.display="none";
		}
	}
})();  



function prepareTip()
 {
	 //取得body对象
	var bd=document.getElementsByTagName('body')[0];  
	//特别注意冒泡执行，先执行那个小的div的click事件，然后再执行body的onclick
	window.addEvent(bd,'click',autoemailhide);   
	var e=document.getElementById("email");
	 //给email绑定一个事件
	window.addEvent(e,'blur',blurFn); 
	window.addEvent(e,'focus',focusFn);
	window.addEvent(e,'keypress',autoemailshow);
	 //输入一个字符时，触发writeemail
	window.addEvent(e,'keyup',writeEmail);
	for(i=1;i<11;i++)
	{
		  //给所有的小的邮箱提示都绑定事件
		var mail=document.getElementById("mail"+i);       
		window.addEvent(mail,'mouseover',mailmouseover);
	    window.addEvent(mail,'mouseout',mailmouseout);
	    window.addEvent(mail,'click',writeOnText);
	}
	var n=document.getElementById("name");
	window.addEvent(n,'blur',blurFn);
	window.addEvent(n,'focus',focusFn);
	var p=document.getElementById("password");
	window.addEvent(p,'blur',blurFn);
	window.addEvent(p,'focus',focusFn);
	//给选择城市绑定事件
	var citytext=document.getElementById("city");
	window.addEvent(citytext,'click',showcity);
	var closebutton=document.getElementById("closecity");
	window.addEvent(closebutton,'click',hidecity);
    //给所有的城市绑定事件
	for(j=1;j<36;j++)
	{
		var selectcity=document.getElementById("city"+j);
	    window.addEvent(selectcity,'click',writeOnCity);
	}
 }
 function writeOnCity()
 {
	 var citytext=document.getElementById("city");
	 citytext.value=this.firstChild.nodeValue;
	 hidecity();
	 var image=document.getElementById("rightimgcity");
	 image.style.display="inline";
 }
 function showcity()
 {
	 var citydiv=document.getElementById("selctcity");
	 citydiv.style.display="block";
 }
 function hidecity()
 {
	 var citydiv=document.getElementById("selctcity");
	 citydiv.style.display="none";
 }
 function autoemailshow()
 {
	
	var ae=document.getElementById("autoemail");
	ae.style.display='block';
 }
 function autoemailhide()
 { 
	 var ae=document.getElementById("autoemail");
	 ae.style.display='none';
 }
 function writeOnText()
 {
	    //特别注意！！当点击时，文本框会失去焦点，下面的autoemail自动隐藏
     var emailtext=document.getElementById("email");
     emailtext.value=this.innerHTML;
	 var emailtip=document.getElementById("emailtip");
	  //点击补全邮箱后，需要把文本错误的提示框隐藏！！
	 emailtip.style.display="none";     
 }
 function mailmouseover()
 {
   // var mail=document.getElementById(m.id);
    this.style.backgroundColor="#f4f4f4";
 }
 function mailmouseout()
 {
    // var mail=document.getElementById("mail1");
	 this.style.backgroundColor="#FFFFFF";
 }

 function writeEmail()
 {
	 var emailtextvalue=document.getElementById("email").value;
	 document.getElementById("mail1").innerHTML=emailtextvalue+"@qq.com";
	 document.getElementById("mail2").innerHTML=emailtextvalue+"@126.com";
	 document.getElementById("mail3").innerHTML=emailtextvalue+"@163.com";
	 document.getElementById("mail4").innerHTML=emailtextvalue+"@sina.com";
	 document.getElementById("mail5").innerHTML=emailtextvalue+"@sina.cn";
	 document.getElementById("mail6").innerHTML=emailtextvalue+"@hotmail.com";
	 document.getElementById("mail7").innerHTML=emailtextvalue+"@gmail.com";
	 document.getElementById("mail8").innerHTML=emailtextvalue+"@sohu.cn";
	 document.getElementById("mail9").innerHTML=emailtextvalue+"@yahoo.cn";
	 document.getElementById("mail10").innerHTML=emailtextvalue+"@139.cn";
 }
 function blurFn()
 {
	var title;
	switch(this.id)
	{
	  case "email":
		   title="邮箱格式不对";
		   break;
	  case "password":
		   title="密码不对";
		   break;
	  case "name":
		   title="姓名不符合要求";
		   break;
	}
	var t=new tip(title,false,this.id+"tip");
	//先关闭原来的info tip
	t.hideTip();
	//如果有错误的时候开启 error tip
	if(checkFormat(this))
	{
	hiderightimg(this.id);
	t.showTip();
	}
	else
	showrightimg(this.id);
	//当文本框中的内容为空时，也不显示绿色的对号！
	if(this.value.toString().length==0)
	hiderightimg(this.id);
 }
 function showrightimg(id)
 {
	 var img
	 switch(id)
	 {
		 case "email":
			 img=document.getElementById("rightimgemail");
			 break;
		 case "password":
		     img=document.getElementById("rightimgpassword");
			 break;
		 case "name":
		     img=document.getElementById("rightimgname");
		     break;
	 }
	 img.style.display="inline";
 }
 function hiderightimg(id)
 {
	// alert("在执行");
	 var img
	 switch(id)
	 {
		 case "email":
			 img=document.getElementById("rightimgemail");
			 break;
		 case "password":
		     img=document.getElementById("rightimgpassword");
			 break;
		 case "name":
		     img=document.getElementById("rightimgname");
		     break;
	 }
	 img.style.display="none";
 }
 function checkFormat(o)
 {
	// o 是要检查格式的dom对象
//	alert(o.id);
    var check=o.value.toString();
	switch(o.id)
	{
		case "email":
		{
           if(check.indexOf("@qq.com")>0)
	           return false;
	      else if(check.indexOf("@126.com")>0)
	           return false;
	      else if(check.indexOf("@163.com")>0)
	           return false;
	      else if(check.indexOf("@sina.com")>0)
	           return false;
	      else if(check.indexOf("@hotmail.com")>0)
	           return false;
	      else if(check.indexOf("@gmail.com")>0)
	           return false;
	      else if(check.indexOf("@sohu.cn")>0)
	           return false;
	      else if(check.indexOf("@yahoo.cn")>0)
	           return false;
	      else if(check.indexOf("@139.cn")>0)
	           return false;
			     //当文本框为空时也不显示tip
		  else if(check.length==0)     
		       return false;
	      else
	           return true;
		}
		break;
		case "password":
		{
			if(check.length<6&&check.length!=0)
			return true;
			else
			return false;
		}
		break;
		case "name":
		{   //用正则表达式判断文本框中是否是中文
			if(/.*[u4e00-u9fa5]+.*$/.test(o.value)) 
			return true;
			else
			return false;
		}
		break;
	}
 }
 function focusFn()
 {
	var title;
	switch(this.id)
	{
	  case "email":
		   title="请输入邮箱";
		   break;
	  case "password":
		   title="请输入密码";
		   break;
	  case "name":
		   title="请输入姓名";
		   break;
	}
	var t=new tip(title,true,this.id+"tip");
	t.showTip();
 }
    </script>

</head>
<body onload="prepareTip();">
    <form method="post">
    <div class="header">
        <div class="header_pic">
            <a href="#">
                <img class="picborder" src="images/p1.jpg" alt="kaixinlogo"></a>
        </div>
        <div class="header_t">
            <a style="color: #FFFFFF;" href="#">注册</a> <a style="color: #FFFFFF;" href="#">登录</a>
            <a style="color: #FFFFFF;" href="#">帮助</a> <a style="color: #FFFFFF;" href="#">导航</a>
        </div>
    </div>
    <div class="midd">
        <div class="left">
            <div class="title">
                <h2>
                    十秒加入开心网，找到全部好友</h2>
            </div>
            <div>
                <ul>
                    <li style="position: relative">
                        <label class="ultit">
                            电子邮箱：</label>
                        <div class="input">
                            <input class="txt" type="text" id="email" name="" />
                            <img id="rightimgemail" class="rightStyle" src="images/right.gif" alt="正确"></div>
                        <div id="autoemail" class="autoemailstyle">
                            <div class="manyemail">
                                请选择邮箱的类型</div>
                            <div id="mail1" class="manyemail">
                                @qq.com</div>
                            <div id="mail2" class="manyemail">
                                @126.com</div>
                            <div id="mail3" class="manyemail">
                                @163.com</div>
                            <div id="mail4" class="manyemail">
                                @sina.com</div>
                            <div id="mail5" class="manyemail">
                                @sina.cn</div>
                            <div id="mail6" class="manyemail">
                                @hotmail.com</div>
                            <div id="mail7" class="manyemail">
                                @gmail.com</div>
                            <div id="mail8" class="manyemail">
                                @sohu.cn</div>
                            <div id="mail9" class="manyemail">
                                @yahoo.cn</div>
                            <div id="mail10" class="manyemail">
                                @139.cn</div>
                        </div>
                        <div id="emailtip">
                        </div>
                        <div class="note">
                            如果没有邮箱，你可以用<a href="#">账号注册</a></div>
                    </li>
                    <li style="position: relative">
                        <label class="ultit">
                            创建密码：</label>
                        <div class="input">
                            <input class="txt" type="password" id="password" name="">
                            <img id="rightimgpassword" class="rightStyle" src="images/right.gif" alt="正确"></div>
                        <div id="passwordtip">
                        </div>
                    </li>
                    <li style="position: relative">
                        <label class="ultit">
                            姓&nbsp&nbsp&nbsp&nbsp名：</label>
                        <div class="input">
                            <input class="txt" type="text" id="name" name="">
                            <img id="rightimgname" class="rightStyle" src="images/right.gif" alt="正确"></div>
                        <div id="nametip">
                        </div>
                    </li>
                    <li>
                        <label class="ultit">
                            性&nbsp&nbsp&nbsp&nbsp别：</label>
                        <div class="check">
                            <input type="radio" value="male" name="sex" />&nbsp男&nbsp &nbsp &nbsp &nbsp &nbsp<input
                                type="radio" value="female" name="sex" checked="checked" />&nbsp女</div>
                    </li>
                    <li>
                        <label class="ultit">
                            生&nbsp&nbsp&nbsp&nbsp日：</label>
                        <div id="birth">
                            <select name="year">
                                <option value="choose1">请选择</option>
                                <option value="1980">1980</option>
                                <option value="1981">1981</option>
                                <option value="1982">1982</option>
                                <option value="1983">1983</option>
                                <option value="1984">1984</option>
                                <option value="1985">1985</option>
                                <option value="1986">1986</option>
                                <option value="1987">1987</option>
                                <option value="1988">1988</option>
                                <option value="1989">1989</option>
                                <option value="1990">1990</option>
                                <option value="1991">1991</option>
                                <option value="1992">1992</option>
                                <option value="1993">1993</option>
                                <option value="1994">1994</option>
                                <option value="1995">1995</option>
                                <option value="1996">1996</option>
                                <option value="1997">1997</option>
                                <option value="1998">1998</option>
                                <option value="1999">1999</option>
                                <option value="2000">2000</option>
                            </select>年
                            <select name="mounth">
                                <option value="choose2">--&nbsp</option>
                                <option value="01">01</option>
                                <option value="02">02</option>
                                <option value="03">03</option>
                                <option value="04">04</option>
                                <option value="05">05</option>
                                <option value="06">06</option>
                                <option value="07">07</option>
                                <option value="08">08</option>
                                <option value="09">09</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                            </select>月
                            <select>
                                <option value="choose3">--&nbsp</option>
                                <option value="01">01</option>
                                <option value="02">02</option>
                                <option value="03">03</option>
                                <option value="04">04</option>
                                <option value="05">05</option>
                                <option value="06">06</option>
                                <option value="07">07</option>
                                <option value="08">08</option>
                                <option value="09">09</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                                <option value="19">19</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
                                <option value="23">23</option>
                                <option value="24">24</option>
                                <option value="25">25</option>
                                <option value="26">26</option>
                                <option value="27">27</option>
                                <option value="28">28</option>
                                <option value="29">29</option>
                                <option value="30">30</option>
                                <option value="31">31</option>
                            </select>日
                        </div>
                    </li>
                    <li>
                        <label class="ultit">
                            我&nbsp现&nbsp在：</label>
                        <div class="check">
                            <input type="radio" value="work" name="job" />&nbsp在工作&nbsp &nbsp &nbsp<input type="radio"
                                value="school">&nbsp在上学</div>
                    </li>
                    <li style="position: relative">
                        <label class="ultit">
                            居&nbsp住&nbsp地：
                        </label>
                        <div id="address">
                            <input type="text" class="cityStyle" value="济南" id="city" name=""></input>
                            <img id="rightimgcity" class="rightStyle" src="images/right.gif" alt="正确">
                        </div>
                        <div class="cityBg" id="selctcity">
                            <div id="provincebox" class="cbox">
                                <span><a class="sl2" id="city1">北京 </a></span>
                                <span><a class="sl2" id="city2">上海 </a></span>
                                <span><a class="sl2" id="city3">天津 </a></span>
                                <span><a class="sl2" id="city4">重庆 </a></span>
                                <span><a class="sl2" id="city5">黑龙江 </a></span>
                                <span><a class="sl2" id="city6">吉林 </a></span>
                                <span><a class="sl2" id="city7">辽宁 </a></span>
                                <span><a class="sl2" id="city8">山东 </a></span>
                                <span><a class="sl2" id="city9">山西 </a></span>
                                <span><a class="sl2" id="city10">陕西 </a></span>
                                <span><a class="sl2" id="city11">河北 </a></span>
                                <span><a class="sl2" id="city12">河南 </a></span>
                                <span><a class="sl2" id="city13">湖北 </a></span>
                                <span><a class="sl2" id="city14">湖南 </a></span>
                                <span><a class="sl2" id="city15">海南 </a></span>
                                <span><a class="sl2" id="city16">江苏 </a></span>
                                <span><a class="sl2" id="city17">江西 </a></span>
                                <span><a class="sl2" id="city18">广东 </a></span>
                                <span><a class="sl2" id="city19">广西 </a></span>
                                <span><a class="sl2" id="city20">云南 </a></span>
                                <span><a class="sl2" id="city21">贵州 </a></span>
                                <span><a class="sl2" id="city22">四川 </a></span>
                                <span><a class="sl2" id="city23">内蒙古 </a></span>
                                <span><a class="sl2" id="city24">宁夏 </a></span>
                                <span><a class="sl2" id="city25">甘肃 </a></span>
                                <span><a class="sl2" id="city26">青海 </a></span>
                                <span><a class="sl2" id="city27">西藏 </a></span>
                                <span><a class="sl2" id="city28">新疆 </a></span>
                                <span><a class="sl2" id="city29">安徽</a></span>
                                <span><a class="sl2" id="city30">浙江 </a></span>
                                <span><a class="sl2" id="city31">福建 </a></span>
                                <span><a class="sl2" id="city32">香港 </a></span>
                                <span><a class="sl2" id="city33">台湾 </a></span>
                                <span><a class="sl2" id="city34">澳门 </a></span>
                                <span><a class="sl2" id="city35">海外 </a></span>
                            </div>
                            <input type="button" class="closebutton" value="关闭" id="closecity" />
                        </div>
                    </li>
                    <li>
                        <div id="agree">
                            <input id="checkedbox" type="checkbox" name="agree" checked="checked">&nbsp同意<a href="#">开心网服务条款</a></div>
                    </li>
                    <li>
                        <div id="button">
                            <input id="submit" type="submit" value="立即注册" /></div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="right">
            <b>已是开心网用户？<a href="#">直接登录</a></b>
            <p class="right_note">
                使用合作网站账号登录</p>
            <div id="pic">
                <a href="#">
                    <img class="image" src="images/p2.jpg" alt="图标"></a> <a href="#">
                        <img class="image" src="images/p3.jpg" alt="图标"></a> <a href="#">
                            <img class="image" src="images/p4.jpg" alt="图标"></a> <a href="#">
                                <img class="image" src="images/p5.jpg" alt="图标"></a>
            </div>
            <div class="line">
            </div>
            <div id="words">
                <p id="words_h">
                    开心网</p>
                <p class="words_p">
                    平均每人拥有<span class="words_span">80</span>位好友</p>
                <p class="words_p">
                    每天，平均每人上传<span class="words_span">10</span>张照片</p>
                <p class="words_p">
                    每天，有<span class="words_span">1000万</span>次互动在好友间开心地发生着</p>
                <p class="words_p">
                    中国人对<span class="words_span">社交网络</span>的真正了解，从这里开始</p>
            </div>
        </div>
    </div>
    <div class="footer">
        <div id="footer_first">
            <div class="footer1_left">
                <a class="footer1left_a" href="#">关于我们</a> <a class="footer1left_a" href="#">手机中心</a>
                <a class="footer1left_a" href="#">开放平台</a> <a class="footer1left_a" href="#">应用中心</a>
                <a class="footer1left_a" href="#">自助广告</a> <a class="footer1left_a" href="#">开心招聘</a>
                <a class="footer1left_a" href="#">客服</a> <a class="footer1left_a" href="#">帮助</a>
            </div>
            <div class="footer1_right">
                c2012 开心网.
            </div>
        </div>
        <div id="footer_second">
            <span class="footer2_one">北京开心人信息技术有限公司： 文网文[2009]157号(甲)</span> <span class="footer2_two">
                <a style="color: rgb(153,153,153);" href="#">京ICP证080482号</a></span> <span class="footer2_two">
                    京公网安备1100003号</span> <span class="footer2_two">(京)-非经营性-2009-0009</span>
            <span class="footer2_two"><a style="color: rgb(153,153,153);" href="#">未成年家长监护</a></span>
        </div>
    </div>
    </form>
</body>
</html>
